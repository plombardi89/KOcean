buildscript {
  repositories {
    jcenter()
  }
  dependencies {
    classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:0.12.613'
  }
}

apply plugin: 'kotlin'
apply plugin: 'jacoco'

group   = 'com.github.plombardi89.kocean'
version = '1.0.0'

ext {
  kotlinVersion = '0.12.613'
  junitVersion  = '4.12'
  minimalJsonVersion = '0.9.3'
}

sourceSets {
  integTest {
    kotlin.srcDir file('src/integTest/kotlin')
    resources.srcDir file('src/integTest/resources')
  }
}

repositories {
  jcenter()
}

dependencies {
  compile "org.jetbrains.kotlin:kotlin-stdlib:${kotlinVersion}"
  compile "com.eclipsesource.minimal-json:minimal-json:0.9.2"

  testCompile "junit:junit:${junitVersion}"

  integTestCompile sourceSets.main.output
  integTestCompile configurations.testCompile
  integTestCompile sourceSets.test.output
  integTestRuntime configurations.testRuntime
}

task integTest(type: Test) {
  testClassesDir = sourceSets.integTest.output.classesDir
  classpath = sourceSets.integTest.runtimeClasspath
}
